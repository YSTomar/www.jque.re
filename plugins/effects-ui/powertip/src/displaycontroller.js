function DisplayController(element,options,tipController){var hoverTimer=null;function openTooltip(immediate,forceOpen){cancelTimer();if(!element.data(DATA_HASACTIVEHOVER)){if(!immediate){session.tipOpenImminent=true;hoverTimer=window.setTimeout(function intentDelay(){hoverTimer=null;checkForIntent();},options.intentPollInterval);}else{if(forceOpen){element.data(DATA_FORCEDOPEN,true);}tipController.showTip(element);}}}function closeTooltip(disableDelay){cancelTimer();session.tipOpenImminent=false;if(element.data(DATA_HASACTIVEHOVER)){element.data(DATA_FORCEDOPEN,false);if(!disableDelay){hoverTimer=window.setTimeout(function closeDelay(){hoverTimer=null;tipController.hideTip(element);},options.closeDelay);}else{tipController.hideTip(element);}}}function checkForIntent(){var xDifference=Math.abs(session.previousX-session.currentX),yDifference=Math.abs(session.previousY-session.currentY),totalDifference=xDifference+yDifference;if(totalDifference<options.intentSensitivity){tipController.showTip(element);}else{session.previousX=session.currentX;session.previousY=session.currentY;openTooltip();}}function cancelTimer(){hoverTimer=window.clearTimeout(hoverTimer);}function repositionTooltip(){tipController.resetPosition(element);}this.show=openTooltip;this.hide=closeTooltip;this.cancel=cancelTimer;this.resetPosition=repositionTooltip;}