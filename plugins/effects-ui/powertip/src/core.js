var $document=$(window.document),$window=$(window),$body=$("body"),DATA_DISPLAYCONTROLLER="displayController",DATA_HASACTIVEHOVER="hasActiveHover",DATA_FORCEDOPEN="forcedOpen",DATA_HASMOUSEMOVE="hasMouseMove",DATA_MOUSEONTOTIP="mouseOnToPopup",DATA_ORIGINALTITLE="originalTitle",DATA_POWERTIP="powertip",DATA_POWERTIPJQ="powertipjq",DATA_POWERTIPTARGET="powertiptarget",RAD2DEG=180/Math.PI;var session={isTipOpen:false,isFixedTipOpen:false,isClosing:false,tipOpenImminent:false,activeHover:null,currentX:0,currentY:0,previousX:0,previousY:0,desyncTimeout:null,mouseTrackingActive:false};$.fn.powerTip=function(opts,arg){if(!this.length){return this;}if(typeof opts==="string"&&$.powerTip[opts]){return $.powerTip[opts].call(this,this,arg);}var options=$.extend({},$.fn.powerTip.defaults,opts),tipController=new TooltipController(options);initMouseTracking();this.each(function elementSetup(){var $this=$(this),dataPowertip=$this.data(DATA_POWERTIP),dataElem=$this.data(DATA_POWERTIPJQ),dataTarget=$this.data(DATA_POWERTIPTARGET),title=$this.attr("title");if($this.data(DATA_DISPLAYCONTROLLER)){$.powerTip.destroy($this);title=$this.attr("title");}if(!dataPowertip&&!dataTarget&&!dataElem&&title){$this.data(DATA_POWERTIP,title);$this.data(DATA_ORIGINALTITLE,title);$this.removeAttr("title");}$this.data(DATA_DISPLAYCONTROLLER,new DisplayController($this,options,tipController));});if(!options.manual){this.on({"mouseenter.powertip":function elementMouseEnter(event){elementShowAndTrack(this,event);},"mouseleave.powertip":function elementMouseLeave(){elementHideTip(this);},"focus.powertip":function elementFocus(){elementShowTip(this,true);},"blur.powertip":function elementBlur(){elementHideTip(this,true);},"keydown.powertip":function elementKeyDown(event){if(event.keyCode===27){elementHideTip(this,true);}}});}return this;};$.fn.powerTip.defaults={fadeInTime:200,fadeOutTime:100,followMouse:false,popupId:"powerTip",intentSensitivity:7,intentPollInterval:100,closeDelay:100,placement:"n",smartPlacement:false,offset:10,mouseOnToPopup:false,manual:false};$.fn.powerTip.smartPlacementLists={n:["n","ne","nw","s"],e:["e","ne","se","w","nw","sw","n","s","e"],s:["s","se","sw","n"],w:["w","nw","sw","e","ne","se","n","s","w"],nw:["nw","w","sw","n","s","se","nw"],ne:["ne","e","se","n","s","sw","ne"],sw:["sw","w","nw","s","n","ne","sw"],se:["se","e","ne","s","n","nw","se"],"nw-alt":["nw-alt","n","ne-alt","nw","ne","w","sw-alt","s","se-alt","sw","se","e"],"ne-alt":["ne-alt","n","nw-alt","ne","nw","e","se-alt","s","sw-alt","se","sw","w"],"sw-alt":["sw-alt","s","se-alt","sw","se","w","nw-alt","n","ne-alt","nw","ne","e"],"se-alt":["se-alt","s","sw-alt","se","sw","e","ne-alt","n","nw-alt","ne","nw","w"]};$.powerTip={show:function apiShowTip(element,event){if(event){elementShowAndTrack(element.first(),event);}else{elementShowTip(element.first(),true,true);}return element;},reposition:function apiResetPosition(element){element.first().data(DATA_DISPLAYCONTROLLER).resetPosition();return element;},hide:function apiCloseTip(element,immediate){if(element){elementHideTip(element.first(),immediate);}else{if(session.activeHover){elementHideTip(session.activeHover,true);}}return element;},destroy:function apiDestroy(element){return element.off(".powertip").each(function destroy(){var $this=$(this);if($this.data(DATA_ORIGINALTITLE)){$this.attr("title",$this.data(DATA_ORIGINALTITLE));}$this.removeData([DATA_ORIGINALTITLE,DATA_DISPLAYCONTROLLER,DATA_HASACTIVEHOVER,DATA_FORCEDOPEN]);});}};$.powerTip.showTip=$.powerTip.show;$.powerTip.closeTip=$.powerTip.hide;function CSSCordinate(){var me=this;me.top="auto";me.left="auto";me.right="auto";me.set=function(property,value){if($.isNumeric(value)){me[property]=Math.round(value);}};}function elementShowTip(element,immediate,forcedOpen){$(element).data(DATA_DISPLAYCONTROLLER).show(immediate,forcedOpen);}function elementShowAndTrack(element,event){trackMouse(event);session.previousX=event.pageX;session.previousY=event.pageY;elementShowTip(element);}function elementHideTip(element,immediate){$(element).data(DATA_DISPLAYCONTROLLER).hide(immediate);}