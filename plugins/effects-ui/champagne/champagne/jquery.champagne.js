(function($){$.fn.champagne=function(options){var settings=$.extend({beginning_delay:300,delay_between:50,duration:500,onFinish:function(){}},options);return this.each(function(){$(this).children().each(function(){$(this).contents().wrap("<div class='hidden'></div>");});var array=$(this).children().children("div.hidden");setTimeout(function(){showRandom();},settings.beginning_delay);function showRandom(){var random=Math.floor(Math.random()*array.length);$(array[random]).fadeIn(settings.duration);array.splice(random,1);if(array.length>0){setTimeout(function(){showRandom();},settings.delay_between);}else{setTimeout(function(){settings.onFinish.call(this);},settings.duration);}}});};})(jQuery);