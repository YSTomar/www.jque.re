/* minimit-gallery 2.0.9 http://github.com/minimit/minimit-gallery */function Mg(t){this.events=[],this.setSettings(t)}Mg.prototype.setSettings=function(t){var e="http://www.google.com/intl/en_ALL/mapfiles/openhand.cur",i="http://www.google.com/intl/en_ALL/mapfiles/closedhand.cur";for(var n in t)if("object"!=typeof t[n]||t[n].length)this[n]=t[n];else{if(void 0==this[n]){var o=this[n]={};this.events.push(n),o.obj=this,o.evnt=n,t.reference&&(o.reference=t.reference),o.inverse=!1,o.anchorize=!1,o.linkedMultiply=o.prevSteps=o.nextSteps=1,o.multiMode="centered",o.multiLimit=!0,o.fixedLess=o.fixedPlus=0,o.scrollIsVertical=o.dragIsVertical=o.scrollInvert=o.dragInvert=o.scrollFraction=o.dragFraction=o.scrollWheel=o.dragWheel=!1,o.scrollFriction=0,o.dragFriction=.85,o.scrollPower=o.dragPower=.6,o.scrollFurther=0,o.dragFurther=.2,o.scrollCursorOff="url("+e+"), pointer",o.scrollCursorOn="url("+i+"), pointer",o.dragCursorOff="url("+e+"), move",o.dragCursorOn="url("+i+"), move",o.rounding="round"}var o=this[n];for(var r in t[n])o[r]=t[n][r];void 0==o.cycle&&(o.cycle=!1),void 0==o.activated&&(o.activated=[]),o.activated.length<1&&o.activated.push(null),o.initNum=o.activated.slice(),"onhashchange"in window&&(this.registerEvent(o,window.mg_AnchorEvntsArr,"useAnchor"),this.registerEvent(o,window.mg_HashEvntsArr,"useLinkHash")),window.history&&window.history.pushState&&this.registerEvent(o,window.mg_UrlEvntsArr,"useLinkUrl")}this.refreshItems(),this.initScrollDrag()},Mg.prototype.refreshItems=function(){this.items=this.getElementsById(this.reference+"-item-"),this.items.length>0&&(this.totalItems=this.items.length);for(var t=this.totalItems-1,e=!1,i=0,n=this.events.length;n>i;i++){var o=this.events[i],r=this[o];r.totalItems=this.totalItems,r.multiLimit&&r.multiLess+r.multiPlus+1>t&&(r.multiLess=Math.floor(t/2),r.multiPlus=Math.ceil(t/2)),("useLinkHash"==r.anchorize||"useLinkUrl"==r.anchorize)&&(e=!0)}if(e){this.itemsLink=[];for(var i=0,n=this.items.length;n>i;i++){var s=this.getElementsById(this.reference+"-item-"+i)[0];this.itemsLink.push({href:s.getAttribute("href"),title:s.getAttribute("data-title")})}}this.initEvents()},Mg.prototype.init=function(t){this.inited&&(t="reinit");for(var e=0,i=this.events.length;i>e;e++){var n=this.events[e],o=this[n];if(o.noCheck=void 0!=o.prevHide||void 0!=o.prevShow||void 0!=o.nextHide||void 0!=o.nextShow?!1:!0,this.inited)for(var r=0,s=o.activatedInit.length;s>r;r++)this.setState(o.activatedInit[r],n,!1,!0,!0,!1,t||"init");else{o.activatedInit=[];for(var r=0,s=o.activated.length;s>r;r++)o.activatedInit[r]=o.activated[r],this.setState(o.activated[r],n,!1,!0,!0,!1,t||"init")}void 0!=o.auto&&this.autoStart(n)}this.inited=!0},Mg.prototype.setState=function(t,e,i,n,o,r,s){var a=this[e];if(a.eventType=s,a.oldNum=a.num,a.oldActivated=a.activated,t!=a.oldNum||"reinit"==s||a.deactivable||void 0==a.num||a.scrollFraction||a.dragFraction){if(a.anchorize&&"reset"!=s&&"anchor"!=s){var l=this.makeAnchor(t,e,s);void 0!=l&&(t=parseFloat(l),i=!0)}if(a.num=t,"init"!=s||void 0!=l?a.deactivated=this.setActivated(t,e):null==a.activated[0]&&a.activated.splice(0,1),a.multiPlus+a.multiLess>0)this.setMultiple(e,s);else if(a.direction=null,"init"!=s){var c=this.findNormalDistance(a.num,a.oldNum);a.distance=c,a.direction=c>0?1:0}if(a.cycle||a.noCheck||this.checkPrevNext(e),!a.deactivable&&"click"==e&&a.interactive){for(var h=0,u=a.activated.length;u>h;h++)this.enableTextSelect(document.getElementById(this.reference+"-item-"+a.activated[h]),!0);void 0!=a.deactivated&&this.disableTextSelect(document.getElementById(this.reference+"-item-"+a.deactivated),!0)}if(r&&this.autoSlow(e),"fraction"!=s&&(a.fraction=this.calculateFraction(0,a.rounding)),void 0!=a.onEvent&&a.onEvent(),"linkedinit"!=s){var v=a.scrollInDiv;n&&v&&this.scRelease(v,t);var v=a.dragInDiv;o&&v&&"linkedinit"!=s&&this.scRelease(v,t)}if(i)for(var h in a.linked){if(void 0!=t)var m=t*a.linkedMultiply;else var m=t;a.linked[h].obj.setState(m,a.linked[h].evnt,!1,!0,!0,!0,"linked"+s)}}},Mg.prototype.setActivated=function(t,e){var i=this[e].activated,n=null,o=this.inArray(t,i);return-1!=o?this[e].deactivable&&(n=parseFloat(i.splice(o,1))):((i.length>=this[e].maxActivated||!this[e].maxActivated)&&(n=parseFloat(i.splice(i.length-1,1))),i.unshift(t)),n},Mg.prototype.initEvents=function(){for(var t=0,e=this.events.length;e>t;t++){var i=this.events[t];if(thisEvnt=this[i],thisEvnt.interactive)for(var n=0,o=this.totalItems;o>n;n++){var r=this.items[n];"click"==i&&this.disableTextSelect(r,!0),r.that=this,r.evnt=i,r.num=thisEvnt.inverse?o-1-n:n;var s=r[this.getEventName(i)];r[this.getEventName(i)]=i,s!=r[this.getEventName(i)]&&this.addEvent(r,i,function(t){var e=this.that.inArray(this.num,this.that[i].activated);return this.that.setState(this.num,this[this.that.getEventName(t.type)],!0,!0,!0,!0,"item"),this.that.stopPropagation(t),e===!1||-1==e?(this.that.preventDefault(t),!1):void 0},!1)}for(var a=["prev","next","first","last"],n=0,o=a.length;o>n;n++){var r=document.getElementById(this.reference+"-"+i+"-"+a[n]);if(r){this.disableTextSelect(r,!0),r.that=this,r.evnt=i,r.call=a[n];var s=r[this.getEventName(i)];r[this.getEventName(i)]=i,s!=r[this.getEventName(i)]&&this.addEvent(r,"click",function(){this.that[this.call](this.evnt,!0,!0,!1)},!1)}}}},Mg.prototype.initScrollDrag=function(t){for(var e=0,i=this.events.length;i>e;e++){var n=this.events[e];thisEvnt=this[n];for(var o=["scroll","drag"],r=["In","Out"],s=0,a=o.length;a>s;s++){t||(thisEvnt[o[s]+r[0]+"Div"]=document.getElementById(this.reference+"-"+n+"-"+o[s]+r[0]),thisEvnt[o[s]+r[1]+"Div"]=document.getElementById(this.reference+"-"+n+"-"+o[s]+r[1]));var l=thisEvnt[o[s]+r[0]+"Div"],c=thisEvnt[o[s]+r[1]+"Div"],h=thisEvnt[o[s]+"IsVertical"];if(l&&c){var u=!1,v=!1;if("none"==this.getCompStyle(l).display&&(u=!0,l.style.display="block"),"none"==this.getCompStyle(c).display&&(v=!0,c.style.display="block"),0==s){var m=l.min=c.min=this.scGetMin(n,l,c,h,1),d=l.max=c.max=this.scGetMax(n,l,c,h,1);t?this.scRelease(c):(this.disableTextSelect(l,!0),this.disableTextSelect(c,!0))}else{if(h)var f=Math.round(this.totalItems/(l.offsetHeight/c.offsetHeight));else var f=Math.round(this.totalItems/(l.offsetWidth/c.offsetWidth));0==f&&(f=.1),l.concurrent=f;var m=l.min=c.min=this.scGetMin(n,c,l,h,f),d=l.max=c.max=this.scGetMax(n,c,l,h,f);t?this.scRelease(l):(this.disableTextSelect(l,!0),this.disableTextSelect(c,!1))}u&&(l.style.display="none"),v&&(c.style.display="none"),t||this.addScrollDrag(n,l,c,m,d,h,o[s])}}}},Mg.prototype.refreshScrollDrag=function(){this.initScrollDrag(!0)},Mg.prototype.checkPrevNext=function(t){var e=this[t],i=e.num-e.prevSteps;e.firstToSteps?i<0-e.multiLess-e.multiPlus?(e.prevIsShown=!1,void 0!=e.prevHide&&e.prevHide()):e.prevIsShown||(e.prevIsShown=!0,void 0!=e.prevShow&&e.prevShow()):0>i?(e.prevIsShown=!1,void 0!=e.prevHide&&e.prevHide()):e.prevIsShown||(e.prevIsShown=!0,void 0!=e.prevShow&&e.prevShow());var i=e.num+e.nextSteps;e.lastToSteps?i>this.totalItems-e.multiLess-e.multiPlus-1?(e.nextIsShown=!1,void 0!=e.nextHide&&e.nextHide()):e.nextIsShown||(e.nextIsShown=!0,void 0!=e.nextShow&&e.nextShow()):i>this.totalItems-1?(e.nextIsShown=!1,void 0!=e.nextHide&&e.nextHide()):e.nextIsShown||(e.nextIsShown=!0,void 0!=e.nextShow&&e.nextShow())},Mg.prototype.prev=function(t,e,i,n){var o=this[t],r=this.totalItems,s=0;("centered"!=o.multiMode||1!=o.cycle)&&(o.lastToSteps&&(r+=o.multiPlus),o.firstToSteps&&(s=-o.multiLess));var a=o.num-o.prevSteps;if(s>a&&(a=(o.cycle||n)&&o.num==s?r-1:s),void 0==o.prevClick||n||o.prevClick(),n)var l="automatic";else var l="prev";this.setState(a,t,e,!0,!0,i,l)},Mg.prototype.next=function(t,e,i,n){var o=this[t],r=this.totalItems,s=0;("centered"!=o.multiMode||1!=o.cycle)&&(o.lastToSteps&&o.multiPlus&&(r+=o.multiPlus),o.firstToSteps&&o.multiLess&&(s=-o.multiLess));var a=o.num+o.nextSteps;if(a>r-1&&(a=(o.cycle||n)&&o.num==r-1?s:r-1),void 0==o.nextClick||n||o.nextClick(),n)var l="automatic";else var l="next";this.setState(a,t,e,!0,!0,i,l)},Mg.prototype.first=function(t){var e=this[t];void 0!=e.firstClick&&e.firstClick(),this.setState(0,t,!0,!0,!0,!0,"first")},Mg.prototype.last=function(t){var e=this[t];void 0!=e.lastClick&&e.lastClick(),this.setState(this.totalItems-1,t,!0,!0,"last")},Mg.prototype.autoStart=function(t){var e=this;clearInterval(window[this.reference+t+"autoInterval"]),window[this.reference+t+"autoInterval"]=this[t].autoInverse?setInterval(function(){e.prev(t,!0,!1,!0),e.onAutoStart(t)},this[t].auto):setInterval(function(){e.next(t,!0,!1,!0),e.onAutoStart(t)},this[t].auto),this.onAutoStart(t)},Mg.prototype.onAutoStart=function(t){void 0!=this[t].onAutoStart&&this[t].onAutoStart();for(var e={that:this,evnt:t},i=!1,n=0,o=window.mg_automaticArr.length;o>n;n++){var r=window.mg_automaticArr[n];if(r.that.reference==e.that.reference&&r.evnt==e.evnt){i=!0;break}}i||mg_automaticArr.push(e)},Mg.prototype.autoSlow=function(t){var e=this;clearInterval(window[this.reference+t+"autoInterval"]),void 0!=this[t].autoSlow&&(window[this.reference+t+"autoInterval"]=this[t].autoInverse?setInterval(function(){e.prev(t,!0,!1,!0),e.autoStart(t)},this[t].autoSlow):setInterval(function(){e.next(t,!0,!1,!0),e.autoStart(t)},this[t].autoSlow),this.onAutoSlow(t))},Mg.prototype.onAutoSlow=function(t){void 0!=this[t].onAutoSlow&&this[t].onAutoSlow()},Mg.prototype.autoStop=function(t){clearInterval(window[this.reference+t+"autoInterval"]);for(var e={that:this,evnt:t},i=0,n=window.mg_automaticArr.length;n>i;i++){var o=window.mg_automaticArr[i];if(o.that.reference==e.that.reference&&o.evnt==e.evnt){mg_automaticArr.splice(i,1);break}}},window.mg_automaticArr=[],window.onblur=function(){for(var t=0,e=window.mg_automaticArr.length;e>t;t++){var i=window.mg_automaticArr[t];clearInterval(window[i.that.reference+i.evnt+"autoInterval"])}},window.onfocus=function(){for(var t=0,e=window.mg_automaticArr.length;e>t;t++){var i=window.mg_automaticArr[t];i.that.autoStart(i.evnt)}},Mg.prototype.setMultiple=function(t,e){var i=this[t],n=i.num,o=i.oldNum;if(null!=n||"init"==e){if(i.multiBeforeIn=[],i.multiBeforeOut=[],i.multiAfterIn=[],i.multiAfterOut=[],i.direction=null,"centered"==i.multiMode)var r="mapNumCentered",s="nearest",a="normal";else if("fixed"==i.multiMode)var r="mapNumFixed",s="serie",a="serie";else if("flexible"==i.multiMode){var r="mapNumFixed",s="normal",a="serie";i.fixedLess=i.multiLess,i.fixedPlus=i.multiPlus}if(i.multiOldActivated=i.multiActivated,i.multiActivated=this[r](n,i.multiLess,i.multiPlus,this.totalItems,i.cycle,i.fixedLess,i.fixedPlus,i.firstToSteps,i.lastToSteps),"init"!=e&&i.multiActivated[0]!=i.multiOldActivated[0]){if("normal"==s)var l=this.findNormalDistance(n,o);else if("nearest"==s)var l=this.findNearestDistance(n,o,this.totalItems,i.cycle);else if("serie"==s)var l=this.findNormalDistance(n,o);if("normal"==a)var c=l;else if("serie"==a){var h=i.fixedLess,u=this.totalItems-1-i.fixedPlus,v=i.multiLess+i.multiPlus+1,c=v-i.fixedPlus-i.fixedLess;h>=n&&o>=u||h>=o&&n>=u?c=this.totalItems-i.multiActivated.length:Math.abs(l)>1&&"flexible"==i.multiMode&&(c+=Math.ceil(Math.abs(l)/2))}this.setOthers(i,n,o,l,c),i.distance=l}}},Mg.prototype.mapNumCentered=function(t,e,i,n,o){for(var r=[],s=-e;i>=s;s++)n>t+s||o?0>t+s&&o?r.push(n-(-t-s)):t+s>=n&&o?r.push(t+s-n):r.push(t+s):r.push(null);return r},Mg.prototype.mapNumFixed=function(t,e,i,n,o,r,s,a,l){var c=[],h=e+i+1,u=Math.floor((t-r)/(h-s-r)),v=u*(h-s-r),m=n-v-r;if(h-s>t&&!a)var u=0,v=u*(h-s-r);else s>=m&&!l&&(v=(u-s-1+m)*(h-s-r));for(var d=0,f=h;f>d;d++)n>v+d&&c.push(v+d);return c},Mg.prototype.setOthers=function(t,e,i,n,o){if(n>0){t.direction=1;for(var r=0,s=Math.abs(o);s>r;r++)t.multiAfterIn.unshift(t.multiActivated[t.multiOldActivated.length-r-1]),t.multiBeforeOut.unshift(t.multiOldActivated[o-r-1]);t.multiDeactivated=t.multiBeforeOut}else{t.direction=0;for(var r=0,s=Math.abs(o);s>r;r++)t.multiBeforeIn.push(t.multiActivated[r]),t.multiAfterOut.push(t.multiOldActivated[t.multiOldActivated.length-r-1]);t.multiDeactivated=t.multiAfterOut}},Mg.prototype.mapDistance=function(t,e){return t-e},Mg.prototype.mapDistanceReverse=function(t,e,i,n){var o=i-n;return e==t?t:o/2>e?-e:e>o/2?o-e-1:o/2},Mg.prototype.findNormalDistance=function(t,e){return t-e},Mg.prototype.findNearestDistance=function(t,e,i,n){var o=i/2;return!n||o>t-e&&t-e>-o?t-e:t-e>o?e>t?-t-(i-e):-e-(i-t):-o>t-e?e>t?t+(i-e):e+(i-t):0};var mg_startingTitle=document.title,mg_startingUrl=document.location;if("onhashchange"in window&&(window.mg_AnchorEvntsArr=[],window.mg_HashEvntsArr=[],window.onhashchange=function(){for(var t=0,e=window.mg_HashEvntsArr.length;e>t;t++){var i=window.mg_HashEvntsArr[t],n=i.obj,o=!1;c=n.itemsLink;for(var r=0,s=c.length;s>r;r++){var a=window.location.hash,l=a.split("&");if(c[r].href==l[0]){n.setState(r,i.evnt,!0,!0,!0,!0,"anchor"),o=!0;break}}}for(var t=0,e=window.mg_AnchorEvntsArr.length;e>t;t++)for(var i=window.mg_AnchorEvntsArr[t],n=i.obj,o=!1,a=window.location.hash.replace("#",""),c=a.split("&"),r=0,s=c.length;s>r;r++){var h=c[r].split("="),u=h[0].split("|"),v=u[0],i=u[1];if(v==n.reference){var r=parseFloat(h[1]);r!=n[i].activated&&n.setState(r,i,!0,!0,!0,!0,"anchor"),o=!0;break}}}),window.history&&window.history.pushState){mg_UrlEvntsArr=[];var mg_history=window.history,mg_pushState=window.history.pushState;window.history.pushState=function(t,e,i,n){return window.onpushstate({state:t,title:e,url:i},n),mg_pushState.apply(mg_history,arguments)},window.onpopstate=window.onpushstate=function(t,e){if(t.state||window.history.pushState({title:mg_startingTitle,url:mg_startingUrl},mg_startingTitle,mg_startingUrl),!e)for(var i=0,n=window.mg_UrlEvntsArr.length;n>i;i++){var o=window.mg_UrlEvntsArr[i],r=o.obj,s=t.state.url;arr=r.itemsLink;for(var a=0,l=arr.length;l>a;a++)if(arr[a].href==s){r.setState(a,o.evnt,!0,!0,!0,!0,"anchor");var c=t.state.title||r.itemsLink[a].title;return r.setDocumentTitle(c),!0}}}}Mg.prototype.makeAnchor=function(t,e,i){var n=this[e],o=window.location.toString(),r=o.substr(0,o.indexOf("#"));if("useLinkHash"==n.anchorize)if("init"==i)for(var s=this.itemsLink,a=0,l=s.length;l>a;a++){var c=window.location.hash,h=c.split("&");if(s[a].href==h[0])return this.setDocumentTitle(s[a].title),a}else{var c=window.location.hash.replace("#",""),h=c.split("&");null==t?h.splice(0,1):h[0]=this.itemsLink[t].href,window.location.hash=this.anchorOutput(h,"")}else if("useLinkUrl"==n.anchorize)if("init"==i){for(var s=this.itemsLink,a=0,l=s.length;l>a;a++)if(s[a].href==window.location||s[a].href==r)return a}else{var u=this.itemsLink[t].href,v=this.itemsLink[t].title;window.mg_UrlEvntsArr&&(window.history.pushState({title:v,url:u},v,u,!0),this.setDocumentTitle(v))}else if("useAnchor"==n.anchorize){for(var m,c=window.location.hash.replace("#",""),h=c.split("&"),a=0,l=h.length;l>a;a++){var d=h[a].split("=");if(d[0]==this.reference+"|"+e){m=a;break}}if("init"==i)return void 0!=m?d[1]:void 0;void 0!=m?null==t?h.splice(m,1):h[m]=this.reference+"|"+e+"="+t:h.push(this.reference+"|"+e+"="+t),window.location.hash=this.anchorOutput(h,"#")}},Mg.prototype.anchorOutput=function(t,e){for(var i=0,n=t.length;n>i;i++)""!=t[i]&&(e+=t[i],i!=t.length-1&&(e+="&"));return e},Mg.prototype.setDocumentTitle=function(t){document.title=t?t:window.mg_startingTitle},Mg.prototype.registerEvent=function(t,e,i){for(var n=!1,o=0,r=e.length;r>o;o++)if(e[o]==t){t.anchorize!=i&&e.splice(o,1),n=!0;break}t.anchorize!=i||n||e.push(t)},Mg.prototype.addEvent=function(t,e,i,n){function o(t){var t=t||window.event;if(!t)for(var e=this.getEvent.caller;e&&(t=e.arguments[0],!t||Event!=t.constructor);)e=e.caller;return t}function r(e){return function(i){var n=i.relatedTarget;this==n||s(this,n)||e.call(t,i)}}function s(t,e){if(t==e)return!1;for(;e&&e!==t;)e=e.parentNode;return e==t}if("undefined"!=typeof t.attachEvent){var a=function(e){return i.call(t,o(e,t))};t.detachEvent("on"+e,a),t.attachEvent("on"+e,a)}else"mouseenter"==e?(t.removeEventListener("mouseover",r(i),n),t.addEventListener("mouseover",r(i),n)):"mouseleave"==e?(t.removeEventListener("mouseout",r(i),n),t.addEventListener("mouseout",r(i),n)):(t.removeEventListener(e,i,n),t.addEventListener(e,i,n))},Mg.prototype.addScrollDrag=function(t,e,i,n,o,r,s){function a(t){t||(t=window.event),void 0==t&&(t={clientX:this.startPosX,clientY:this.startPosY}),void 0==t.clientX&&(t.clientX=t.touches[0].clientX,t.clientY=t.touches[0].clientY);var i=this,n=i.mg,o=i.evnt,r=i.scrollDragStr;document.t=i,document.onmousemove=l,document.onmouseup=c,document.ontouchmove=l,document.ontouchend=c,i.style.cursor=n[o][r+"CursorOn"],i.time=+new Date,i.count=0,i.startPosX=t.clientX,i.startPosY=t.clientY;var s=i.mg.getTransform(i);i.vertical?(i.offsetPos=s?s.top:i.offsetTop,e.swipeDist=i.itemOut.offsetHeight/i.concurrent):(i.offsetPos=s?s.left:i.offsetLeft,e.swipeDist=i.itemOut.offsetWidth/i.concurrent),i.num=i.offsetPos,i.startnum=i.num,i.clicked=!0,clearTimeout(n[o]["clickedInterval"+r]),clearTimeout(n[o]["frictionInterval"+r]),t.which&&1!=t.which||n.scClick(i),i.mg.stopPropagation(t),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()}function l(t){t||(t=window.event),void 0==t.clientX?(t.clientX=t.touches[0].clientX,t.clientY=t.touches[0].clientY):"ontouchstart"in window&&void 0==t.touches[0].clientX&&(t.clientX=t.clientY=e.lastClient);var e=document.t;if(e.vertical)var i=t.clientY-e.startPosY,n=t.clientX-e.startPosX;else var i=t.clientX-e.startPosX,n=t.clientY-e.startPosY;if(Math.abs(n)<Math.abs(i)&&Math.abs(i)>10){var o=e.lastClient=e.offsetPos+i;o=e.mg.scCheckLimits(o,e.isScroll,e.further,e.min,e.max),e.count+=o-e.num,e.count*=e.power,e.num=o,e.mg.scMove(e,o),e.mg.stopPropagation(t),e.mg.preventDefault(t)}}function c(t){t||(t=window.event),void 0==t.clientX?(t.clientX=t.changedTouches[0].clientX,t.clientY=t.changedTouches[0].clientY):"ontouchstart"in window&&void 0==t.touches[0].clientX&&(t.clientX=t.clientY=e.lastClient);var e=document.t,i=e.evnt,n=e.mg,o=e.min,r=e.max,s=e.num;if(document.onmousemove=null,document.onmouseup=null,document.ontouchmove=null,document.ontouchend=null,e.style.cursor=n[i][e.scrollDragStr+"CursorOff"],e.clicked){if(e.vertical)var a=t.clientY-e.startPosY,l=t.clientX-e.startPosX;else var a=t.clientX-e.startPosX,l=t.clientY-e.startPosY;if(Math.abs(a)>30){e.onclick=function(){return!1},+new Date;var c=!1;if(e.isScroll)s>=o&&r>=s&&(c=!0);else if(Math.abs(a)<e.swipeDist/2&&Math.abs(l)<Math.abs(a)){var u=Math.abs(r-o)/n.totalItems;0>a?s-=u:s+=u}else-o>=s&&s>=-r&&(c=!0);c&&!n[i].disableFriction?h(e,e.friction,s):(n.scMove(e,s,!0),n.scReleaseFraction(e),n.scRelease(e,s)),e.mg.stopPropagation(t)}else e.onclick=function(){},n.scReleaseFraction(e),n.scRelease(e,s);n[i]["clickedInterval"+e.scrollDragStr]=setTimeout(function(){e.clicked=!1},113)}}function h(t,e,i){var n=t.evnt,o=t.mg;t.count*=e;var r=t.count;i+=r,t.num=i,!e||r>-1&&1>r?(o.scReleaseFraction(t),o.scRelease(t,i)):(o.scMove(t,i),i=o.scCheckLimits(i,t.isScroll,0,t.min,t.max),o[n]["frictionInterval"+t.scrollDragStr]=setTimeout(function(){h(t,e,i)},13))}function u(t){var e=t.getBoundingClientRect();return e?{top:e.top,left:e.left}:{top:0,left:0}}function v(t){t||(t=window.event),void 0==t.clientX&&(t.clientX=t.touches[0].clientX,t.clientY=t.touches[0].clientY);var e=this;if(this==e&&!e.itemIn.clicked){if(e.vertical)var i=t.clientY-u(e).top-e.itemIn.offsetHeight/2;else var i=t.clientX-u(e).left-e.itemIn.offsetWidth/2;e.itemIn.startPosX=t.clientX,e.itemIn.startPosY=t.clientY,i=e.mg.scCheckLimits(i,e.isScroll,0,e.min,e.max),e.mg.scReleaseSet(e,i),"touchstart"==t.type?e.itemIn.ontouchstart():e.itemIn.onmousedown(),e.itemIn.offsetPos=i}return!1}e.onmousedown=e.ontouchstart=a,e.onmouseup=e.ontouchend=c,e.evnt=t,e.mg=this,e.itemOut=i,e.itemIn=e,e.vertical=r,e.scrollDragStr=s,e.wheelnum=0,e.friction=this[t][s+"Friction"],e.power=this[t][s+"Power"],e.further=this[t][s+"Further"],e.style.cursor=e.mg[t][s+"CursorOff"],"scroll"!=s?(i.isScroll=e.isScroll=!1,this[t][s+"Wheel"]&&this.addWheel(e,this.scWheel)):(i.isScroll=e.isScroll=!0,i.onmousedown=i.ontouchstart=v,i.evnt=t,i.mg=this,i.itemIn=e,i.itemOut=i,i.vertical=r,i.scrollDragStr=s,i.wheelnum=0,this[t][s+"Wheel"]&&this.addWheel(i,this.scWheel)),i.ondragstart=e.ondragstart=function(){return!1}},Mg.prototype.scClick=function(t){var e=t.evnt;t.isScroll;var i=t.itemIn;t.itemOut;var n=t.scrollDragStr;this[e].startPosX=i.startPosX,this[e].startPosY=i.startPosY,void 0!=this[e][n+"Click"]&&this[e][n+"Click"]()},Mg.prototype.scMove=function(t,e,i,n){var o=t.evnt,r=t.scrollDragStr,s=t.isScroll,a=t.min,l=t.max,c=this[o][r+"Fraction"],h=this[o].rounding;if(this[o][r+"Dragged"]=t.startnum-e,this[o][r+"Position"]=e,!n){if(s||(l=-l,a=-a),this[o][r+"Invert"])var u=l-e-a;else var u=e-a;var v=(this.totalItems-1)*(u/(l-a)),e=Math[h](v)}if(e!=this[o].num||c)if(e>=0&&e<=this.totalItems-1){if(c)var m="fraction";else var m=r;this[o].fraction=this.calculateFraction(v,h),this.setState(e,o,!0,!s,s,!0,m)}else if(this[o].cycle){var m=r;0>e?e=this.totalItems+e:e-=this.totalItems,this.setState(e,o,!0,!s,s,!0,m)}i||void 0==this[o][r+"Move"]||this[o][r+"Move"]()},Mg.prototype.scReleaseSet=function(t,e){var i=t.evnt;t.itemIn,t.itemOut;var n=t.scrollDragStr,o=t.min,r=t.max;this.totalItems-1;var s=this[i].rounding;this[i][n+"Invert"]&&(e=r-e);var a=Math[s]((this.totalItems-1)*(e/(r-o)));this.setState(a,i,!0,!1,!0,!0,n),this.scRelease(t,e)},Mg.prototype.scRelease=function(t,e){var i=t.evnt,n=t.itemIn,o=t.itemOut,r=t.scrollDragStr,s=t.isScroll,a=t.min,l=t.max,c=this.totalItems-1;this[i][r+"Fraction"],void 0!=e&&(n.wheelnum=o.wheelnum=e,this[i][r+"Dragged"]=t.startnum-e),s||(l=-l,a=-a);var h=this[i].activated*((l-a)/c)||0;this[i][r+"Position"]=this[i][r+"Invert"]?l-h:a+h,void 0!=e?void 0!=this[i][r+"Release"]&&this[i][r+"Release"]():void 0!=this[i][r+"Move"]&&this[i][r+"Move"]()},Mg.prototype.scReleaseFraction=function(t){var e=t.evnt,i=t.scrollDragStr,n=this[e][i+"Fraction"];n&&this.setState(this[e].activated,e,!0,!t.isScroll,t.isScroll,!0,i)},Mg.prototype.scCheckLimits=function(t,e,i,n,o){return e?n>t?t=n+(t-n)*i:t>o&&(t=o+(t-o)*i):t>-n?t=-n+(t+n)*i:-o>t&&(t=-o+(t+o)*i),t},Mg.prototype.scGetMin=function(t,e,i,n,o){return this[t].firstToSteps||(o=1),n?-e.offsetHeight*(o-1)/o:-e.offsetWidth*(o-1)/o},Mg.prototype.scGetMax=function(t,e,i,n,o){return this[t].lastToSteps||(o=1),n?i.offsetHeight-e.offsetHeight/o:i.offsetWidth-e.offsetWidth/o},Mg.prototype.addWheel=function(t,e){var i=/Firefox/i.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel";"undefined"==typeof t.attachEvent&&t.addEventListener(i,e,!1)},Mg.prototype.scWheel=function(t){var e=this,i=e.mg,n=0;t.wheelDelta?n=t.wheelDelta/120:t.detail&&(n=-t.detail/3);var o=e.wheelnum-n;o>=0&&o<=i.totalItems-1&&(i.scMove(e,o,!0,!0),i.scReleaseFraction(e),i.scRelease(e,i[e.evnt].activated),i.stopPropagation(t),i.preventDefault(t))},Mg.prototype.calculateFraction=function(t,e){var i=t%1;return"round"==e?(i-=.5,0>i&&(i+=1)):"ceil"==e&&(i+=1,i>1&&(i-=1)),i},Mg.prototype.getTransform=function(t){for(var e=["transform","msTransform","MozTransform","WebkitTransform","OTransform","KhtmlTransform"],i=0,n=e.length;n>i;i++){var o=t.style[e[i]];if(o){var r=this.getCompStyle(t),s=r[e[i]],a=s.replace(/[^0-9\-.,]/g,"").split(","),l={};return l.left=0==s.indexOf("matrix3d")?1*a[12]:1*a[4],l.top=0==s.indexOf("matrix3d")?1*a[13]:1*a[5],l}}},Mg.prototype.getCompStyle=function(t){return window.getComputedStyle?window.getComputedStyle(t,""):t.currentStyle},Mg.prototype.getEventName=function(t){return"mouseenter"==t?"mouseover":"mouseleave"==t?"mouseout":t},Mg.prototype.inArray=function(t,e){if(!e)return-1;for(var i=0,n=e.length;n>i;i++)if(e[i]==t)return i;return-1},Mg.prototype.getElementsById=function(t){for(var e,i=document.body.getElementsByTagName("*"),n=[],o=0,r=i.length;r>o;o++){var e=i[o];e.id.substr(0,t.length)==t&&n.push(e)}return n},Mg.prototype.stopPropagation=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},Mg.prototype.preventDefault=function(t){t.preventDefault&&t.preventDefault()},Mg.prototype.enableTextSelect=function(t,e){t&&(e&&(t.style.cursor="auto"),t.that=this,t.unselectable=!1,t.style.userSelect="text",t.style.OUserSelect="text",t.style.msUserSelect="text",t.style.MozUserSelect="text",t.style.webkitUserSelect="text",t.onselectstart=function(t){var t=t||window.event;this.that.stopPropagation(t)},t.onmousedown=function(t){var t=t||window.event;this.that.stopPropagation(t)},navigator.userAgent.match(/Android/i)&&(t.style.webkitTapHighlightColor="default"))},Mg.prototype.disableTextSelect=function(t,e){t&&(e&&(t.style.cursor="pointer"),t.unselectable=!0,t.style.userSelect="none",t.style.OUserSelect="none",t.style.msUserSelect="none",t.style.MozUserSelect="none",t.style.webkitUserSelect="none",t.onselectstart=function(){return!1},t.onmousedown=function(){return!1},navigator.userAgent.match(/Android/i)&&(t.style.webkitTapHighlightColor="rgba(0,0,0,0)"))};