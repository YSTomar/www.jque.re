(function($){$.fn.extend({posterimage:function(options){var defaults={image:"",title:"Click to view the video",title_color:"#fff",title_backgroundcolor:"#222",autoplay:false};var options=$.extend(defaults,options);return this.each(function(){var obj=$(this);var vid_iframe=obj.find("iframe");if(vid_iframe.css("display")=="none"){return false;}var vid_src=vid_iframe.attr("src");var width=vid_iframe.attr("width");var height=vid_iframe.attr("height");if(width==""||width=="undefined"){alert("No width has been given.");}if(height==""||height=="undefined"){alert("No height has been given.");}if(options.autoplay==true){var sep="?";var v_uri=vid_src.split(sep);if(v_uri[1]!==""&&v_uri[1]!==undefined){sep="&";}vid_iframe.attr("src",vid_src+sep+"autoplay=1");}vid_iframe.hide();var poster_id="poster_"+Math.floor(Math.random()*999);var vid_div=$("<div/>",{id:poster_id,css:{overflow:"hidden",backgroundColor:options.title_color,width:width,height:height}}).attr("title",options.title);var vid_p=$("<p/>",{css:{lineHeight:"20px",fontSize:"12px",margin:0,fontFamily:"lucida sans, sans-serif",marginTop:(height-70)+"px",padding:"15px",color:options.title_color,backgroundColor:options.title_backgroundcolor,position:"absolute",zIndex:"2"}}).html("&#9658; "+options.title);vid_p.appendTo(vid_div);if(options.image!==""){$('<img src="'+options.image+'" width="'+width+'" height="'+height+'" />').appendTo(vid_div);}if(options.credits!==false){$('<p style="font-size:10px;color:#aaa;">Powered by posterimage</p>').appendTo("#"+obj.attr("id"));}obj.prepend(vid_div);$("#"+poster_id).bind("click",function(){$(this).hide();vid_iframe.show();}).css("cursor","pointer");});}});})(jQuery);