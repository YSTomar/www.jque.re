$(function(){$.ajax({url:"content/countries.txt",dataType:"json"}).done(function(source){var countriesArray=$.map(source,function(value,key){return{value:value,data:key};}),countries=$.map(source,function(value){return value;});$.mockjax({url:"*",responseTime:2000,response:function(settings){var query=settings.data.query,queryLowerCase=query.toLowerCase(),re=new RegExp("\\b"+$.Autocomplete.utils.escapeRegExChars(queryLowerCase),"gi"),suggestions=$.grep(countriesArray,function(country){return re.test(country.value);}),response={query:query,suggestions:suggestions};this.responseText=JSON.stringify(response);}});$("#autocomplete-ajax").autocomplete({lookup:countriesArray,lookupFilter:function(suggestion,originalQuery,queryLowerCase){var re=new RegExp("\\b"+$.Autocomplete.utils.escapeRegExChars(queryLowerCase),"gi");return re.test(suggestion.value);},onSelect:function(suggestion){$("#selction-ajax").html("You selected: "+suggestion.value+", "+suggestion.data);},onHint:function(hint){$("#autocomplete-ajax-x").val(hint);},onInvalidateSelection:function(){$("#selction-ajax").html("You selected: none");}});$("#autocomplete").autocomplete({lookup:countriesArray,onSelect:function(suggestion){$("#selection").html("You selected: "+suggestion.value+", "+suggestion.data);}});$("#autocomplete-custom-append").autocomplete({lookup:countriesArray,appendTo:"#suggestions-container"});$("#autocomplete-dynamic").autocomplete({lookup:countriesArray});});});